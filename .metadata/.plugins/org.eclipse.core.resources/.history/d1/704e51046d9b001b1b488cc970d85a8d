package adjacencyList;

import java.util.ArrayList;
import java.util.Stack;

public class DFSrev {
	static ArrayList<ArrayList<Integer>> arr=new ArrayList<ArrayList<Integer>>();
	int vertices;
	DFSrev(int vertices){
		this.vertices=vertices;
		for(int i=0;i<vertices;i++) {
			arr.add( new ArrayList<Integer>());
		}
	}
	
	void addEdge(int source,int desti) {
		if(! arr.get(source).contains(desti)) {
			arr.get(source).add(desti);
			arr.get(desti).add(source);
			}
	}
	
	void print() {
		for(int i=0;i<arr.size();i++) {
			System.out.print(i + "--->");
			for(int j: arr.get(i)) {
				System.out.print(j+" ");
			}
			System.out.println();
		}
	}
	
	void printDFS(int start) {
		System.out.println("inside dfs");
		ArrayList<Integer> result=new ArrayList<Integer>();
		boolean []visited=new boolean [vertices];
		Stack<Integer> s=new Stack<Integer>();
		boolean check=true;
		s.push(start);
		visited[start]=true;
		while(!s.isEmpty()) {
			if(!check) s.pop();
			if(! visited[s.peek()])
			result.add(s.peek());
			System.out.println("inside result-->"+ result);
			for(int i=0;i<arr.get(s.peek()).size();i++) {
				int temp=s.peek();
				if(! visited[arr.get(temp).get(i)]) {
					s.push(arr.get(temp).get(i));
					visited[arr.get(temp).get(i)]=true;
					check=false;
					break;
				}
			}
			
		}
		
		System.out.print("dfs traversal--->"+ result);
		
	}
	
	
	public static void main(String [] args) {
		DFSrev g=new DFSrev(7);
		
		g.addEdge(0, 1);
		g.addEdge(0, 3);
		g.addEdge(3, 1);
		g.addEdge(2, 1);
		g.addEdge(5, 1);
		g.addEdge(6, 1);
		g.addEdge(3, 2);
		g.addEdge(5, 2);
		g.addEdge(3, 4);
		g.addEdge(2, 4);
		g.addEdge(6, 4);
		
		g.print();
		g.printDFS(0);
	}

}
